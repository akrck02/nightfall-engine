<html>
  <script>
    window.onload = () => {
      let input = document.getElementById("input");
      let output = document.getElementById("game");
      let socket = new WebSocket(`ws://${window.location.hostname}:4321/game`);
      socket.binaryType = "arraybuffer";
     
      let decoder = new TextDecoder("utf-8"); 
      
      socket.onopen = function () {
        output.innerHTML += "Status: Connected\n";
      };

      socket.onmessage = function (e) {
        console.log(e.data)
        let newData = decoder.decode(e.data)
        output.innerHTML = newData 
      };
    }

    function send() {
      socket.send(input.value);
      input.value = "";
    }
    
  </script>
  <body style="background: #1a1a1a;display: block;">
    <div id="game" style="color: #fafafa; margin: 1rem;"> </div>
    <input id="game">
  </body>
</html>
